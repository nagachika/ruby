正規表現エンジンに正規表現のソースを渡す時に、文法上の区切り文字(通常だと "/"。
%r リテラルを使うと他の記号にもなる)はエスケープしなくてもよいのにエスケープし
て渡していたので、そのまま渡すようにしています。Regexp.new("foo/") と /foo\//
のようなリテラルで作った正規表現の同値性を保つための修正です。
[ruby-core:40364] [Bug #5484]
これにより、たとえば
%r*foo\**   # => これまでは /foo\*/ 最新版は /foo*/
のように %r 記法でデリミタに正規表現のメタキャラクタを利用した時にその中にその
メタキャラクタをエスケープして書いた時の解釈が変化するのでやや注意が必要です。
%r 記法使うのにわざわざその中で使うメタキャラクタをデリミタにするっていうのが若
干いまいちなのでこれはこういうものということになるのではないかと思います。NEWS
には書いたほうがいいかもしれませんね。

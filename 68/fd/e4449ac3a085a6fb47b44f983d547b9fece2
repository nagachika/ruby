mswin 版の IO#read で読み込みサイズを指定した時に、一時的にバイナリモードに変更
して読み込みし、そのために読み込みバッファを破棄してファイルポインタを戻す
(r34043 の変更)のですが、そこで "\n" だけの改行コードがあった場合に seek する位
置を戻し過ぎることがあったのを修正、また read() のエラー処理を強化(というか元は
エラー処理されてなかった？)しています。 [ruby-core:41671] [Bug #5714]

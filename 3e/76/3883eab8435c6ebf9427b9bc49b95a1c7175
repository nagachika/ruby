拡張ライブラリ strscan で onig_region_set() への引数のオーバーフローを考慮してこの関数を使わず構造体の内容を直接セットするようにしています。 onig_region_set() の引数が int なのにもかかわらずセットすべき構造体メンバーが OnigPosition で実質 ptrdiff_t なので関数のインターフェースの設計にミスっている感じ。だけど公開 API なのでさっと直すわけにもいかずという。

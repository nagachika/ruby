標準添付ライブラリ ftp のテストで利用するサーバ側ソケットに setsockopt で
SO_OOBINLINE というオプションをつけて OOB (優先的に送信されるデータ)の受信を明
示的に指定するようにしています。 Solaris でのテストの失敗を修正するためだそうで
す。またこの変更後に受信するパケットのかたまりかたが OS によって異なるようなの
で Socket#recv で取得していたところを、"\n" までまとめて受け取るように gets を
呼ぶように変更しています。多分送信側でパケットの組み立てかたが異なるんですね。
[ruby-dev:48885] [Bug #10915]

Dir.glob の引数に渡した Array が ruby のメソッドを呼ばれた時に変更されてしまうと SEGV する可能性があったので、渡された配列の内容をコピーした新しいインスタンスを作ってそれを利用するようにしています。 テストみると to_path メソッドを定義してそこで渡した配列を clear したりしているのでそうそう起きるものではなさそう。

String オブジェクトのエンコーディングに対して不正な文字を置換する String#scrub
にはブロックを渡して、そのブロックで置換文字を指定するという機能がありますが(そ
うだったのか…)、文字列のエンコーデングがASCII非互換なエンコーディングだった時
にブロックよりも引数の repl が優先されていたためブロックが呼び出されないという
不具合を修正しています。 [ruby-core:79038] [Bug #13119]

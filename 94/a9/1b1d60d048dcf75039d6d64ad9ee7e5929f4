現状では部分文字列は文字列の末尾のみ共有できるようになっていて、これは String
オブジェクトのバッファは拡張ライブラリの互換性のために NUL 文字終端するようにし
ているからなのですが、SHARABLE_MIDDLE_SUBSTRING というマクロを 1 にすると、文字
列の途中も共有可能にして NUL 終端しないようにするのですが、そうすると拡張ライブ
ラリ socket の Addrinfo で strcmp(3) や strlen(3) を使っていてうまく動かないと
ころがあったので修正しています。

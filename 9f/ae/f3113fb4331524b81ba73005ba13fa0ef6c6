VM 命令に opt_nil_p という nil? メソッドを最適化する命令を追加して、再定義されてなければ Qnil かどうか直接判定するようにしています。たしかに効きそうだけど nil? どのくらい重いところで使われてるのかなぁ。

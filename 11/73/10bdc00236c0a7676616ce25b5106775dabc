環境変数へアクセスする ENV は Hash っぽいけど実はただのオブジェクトで、特異メソッドで機能が提供されているため、ENV.dup はただのオブジェクトを返す(ENV の機能はなくなる)ので ENV.dup は例外を発生させるようにしています。また ENV.clone も clone したオブジェクトの操作した結果は元の ENV にも影響するので(環境変数なのでそりゃそうだ) deprecated 警告を出すようにしています。 [ruby-core:103132] [Bug #17767]

local_variables でブロックパラメータやダイナミック変数(ブロック内のスコープの変
数)で外の変数の shadowing が起きている時に、同じ Symbol が複数回現れるようにな
っていたのを、1度だけ出現するように変更(修正?)しています。内部的には Array に追
加していたのを Hash のキーに格納して Hash#keys で取り出すようにしています。
[ruby-core:60501] [Bug #9486]
ふーむ、まあ shadowing してたら重複してもいいような気もしなくはないですけどね。
local_variables をどうやって使うのかと考えたら、外のスコープの変数は取り出せな
いし 1回のほうがいいのかなぁ。

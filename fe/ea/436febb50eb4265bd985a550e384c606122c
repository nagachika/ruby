irb の組み込みコマンドの実装でコンテキストとなっているオブジェクトの class のクラス変数を利用していたのを、特異クラス(singleton_class)のクラス変数を利用するように変更しています。クラスは他のインスタンスとも共有しているのでグローバルな影響があるので。

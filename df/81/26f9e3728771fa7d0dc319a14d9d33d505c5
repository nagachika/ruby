OpenSSL::SSL::SSLSocket のテストで start_server でテスト用のサーバを起動してそ
の同じサーバの Proc オブジェクトで複数の長さのメッセージを受信するチェックをし
ていて、チェックの手続きが走る前に次の接続のループで num_written が書き換えられ
てしまうと失敗する可能性があったので、データのサイズのループ毎に別々の Proc オ
ブジェクトを生成してサーバを起動するようにしています。

標準添付ライブラリ reline で端末の行数を超える複数行のバッファに対応するようにしているようです。

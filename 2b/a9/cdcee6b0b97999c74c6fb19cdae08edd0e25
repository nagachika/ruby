gc.c のマシンスタックの終端(現在のスタックポインタ)を取得する
SET_MACHINE_STACK_END() で利用しているインラインアセンブラに volatile 修飾子を
付けています。よくわかりませんがコンパイラ最適化で期待した結果が得られないのを
防いでいるそうです。 [ruby-dev:46665] [Bug #7468]

同じくサンプルスクリプト sample/pty/shl.rb で $n_shells というグローバル変数
(!?)で配列のサイズを保持する実装になってたのでもうちょっと ruby っぽい実装にリ
ファクタリングしています。 [ruby-dev:49974] [Bug #13191]

at_exit で登録したプロセス終了時の処理の中で exit を呼んだり例外が発生したり(
exit も実際には SystemExit 例外の発生です)した時にそれは一旦捕捉して全ての登録
された終了処理を登録の逆順に実行しておいてから最後に発生した例外が発生したかの
ように終了するのですが、その終了処理のなかで rescue で例外が捕捉して握り潰され
るとそこで保存していた例外の情報が消えてしまっていたので、処理を呼び出した後で
必要に応じて復旧するようにしています。 [ruby-core:43173] [Bug #5218]

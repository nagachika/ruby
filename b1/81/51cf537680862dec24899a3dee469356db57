/regexp/ =~ "str" が最適化により VM の命令から直接関数を呼ぶのが String#=~ が再
定義されていても効いたままでメソッドが呼ばれない不具合を修正しています。 =~ メ
ソッドはレシーバが Regexp で引数(右辺)が String だと直接 rb_reg_match() を呼ぶ
ように最適化する命令 opt_regexpmatch1 にコンパイルされるのですが、ここでメソッ
ドの再定義チェックがされておらず無条件で関数を呼んでいました。
[ruby-core:57385] [Bug #8953]

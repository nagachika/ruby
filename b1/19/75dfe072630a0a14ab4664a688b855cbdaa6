Array#push と Array#<< で配列が共有されていて、共有数が1である時に、直接共有し
ているバッファに要素を追加することで不要なコピーを抑制しています。直前の r37581
とあわせて Array をキュー(FIFO)のように操作する時の処理を効率化するためのもので
す。 [ruby-core:45818] [Feature #6638]

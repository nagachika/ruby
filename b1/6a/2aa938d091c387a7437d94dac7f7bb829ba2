メソッド呼び出しの klass が即値のクラスだった場合に生成するコードで vm_cc_valid_p() の呼び出し前に RB_SPECIAL_CONST_P() で receiver を判定するショートカットを追加するようにしています。同じメソッドは同じクラスのオブジェクトとして呼ばれることが多いだろうからってことですかね。こうすることでコードサイズを減らすことによる最適化を狙っているようです。ショートカットが無効でもその後の判定に CLASS_OF() のかわりに RBASIC_CLASS() を使えるようにすることでコードサイズが減らせるようです。

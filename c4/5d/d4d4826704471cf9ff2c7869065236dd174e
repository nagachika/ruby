abe12d8b96be3c12618811f22ca01788366f99f8 でやってた VM 命令の methodref で返す Method オブジェクトを freeze する変更の続きでテストの追加と VM 命令のコメントをちょっと修正しています。これチケットをよく読むと省メモリについては "Freezing keeps a window of opportunity for introducing method reference caching..." とあって使いまわしについては将来の話で、あとサンプルコードで示されてるのは Method オブジェクトを手動でというか変数にキャッシュしておくと抑えられる(ので自動的にキャッシュされるようになるとこれだけ減る)という話でした。 https://github.com/ruby/ruby/pull/2267 [ruby-core:94349] [Feature #16103]

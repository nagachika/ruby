regnenc.h で宣言されている構造体 PosixBracketEntryType の name はポインタですが
静的領域の文字列リテラルへのポインタのみ格納していて、しかも文字列長が短いので
構造体内に埋め込むようにしています。…あれバッファが6バイト固定になっていますけ
ど、POSIX_BRACKET_ENTRY_INIT() の引数に 6文字の "XDigit"/"xdigit" がありますね
。これ長さ足りないのでは…? あと構造体メンバの順番も入れ替えて packing していま
す。
[追記]strncmp(3) などで比較しているので NUL 文字なしでも大丈夫そうです。また
sizeof("xdigit") - 1 だと1文字足りないのでは…と思いましたが sizeof("literal")
は NUL 文字のぶんを含む長さを返すので問題なさそうでした。[/追記]

rb_thread_t には eval でスクリプト片を実行する時にローカル変数とメソッド(かっこ
なしの呼び出し)をパーサが区別したり、その他の理由で base_block というメンバに呼
び元の rb_block_t をセットしておいて、実行後にクリアするようにしていたのですが
、例外が発生した時にこれがクリアされないままになることがあって、その状態で別の
RubyVM::InstructionSequence をコンパイルしようとすると SEGV などが発生してしま
っていました。そのため base_block を eval でのコンパイルの前後でセット/クリアす
るようにして、実行する時にはスタックフレームを積む時に base_thread を明示的に引
数として渡してセットするようにしています。

標準添付ライブラリ drb のテストで DRbServer の URL としてホスト部を省略した "druby://:0" みたいな記法を渡してたところを明示的に "druby://localhost:0" と localhost を記載するようにしています。なんかこれ localhost が解決できない環境(lxc のコンテナとかなんかだったような)のために書かなくしたんだったような気がする。 CI の環境でホスト部を省略すると IPv4 で、localhost を明示すると IPv6 で listen するようになってて、さらに port 番号の自動採番でたまたま同じ port 番号が割り振られると別のプロトコルなのに結果できる URL が同じになってしまって DRb.here? が誤作動するという問題があったようで、記法を統一するために localhost ありのほうに揃えてるそうです。

IO#close で古い Mac OS X (10.5) で別のスレッドが読んでる file descriptor を
close(2) するとデッドロックするので対処しているということで、その場合に限って
close(2) する前にその fd で待っている Thread に例外を投げるための
rb_thread_close_fd() を呼ぶようにしています。例外を投げるといっても必ずしもすぐ
read(2) 等から抜けるとも限らないような気がしますが、close(2) に突入した後にでも
別のスレッドが抜ければ大丈夫なのかもしれませんね。

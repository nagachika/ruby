RubyVM::InstructionSequence#to_binary でバイナリフォーマットにダンプする ISeq のサイズを小さくなるようにしています。出力はちょっと遅くなりますがサイズがぐっと小さくなるぶん読みこみも速くなるそうです。ぱっと見た感じ圧縮してるというより固定長のレコードで書いてたものを可変長にしてムダな領域を使わないようにフォーマット自体を設計しなおしているみたいです。差分大きいのであんまりちゃんと読んでないですが。 https://github.com/ruby/ruby/pull/2450 [ruby-core:94898] [Feature #16163]

構造体 struct rb_callinfo_kwarg で末尾にサイズ1 の配列の要素を置くことで可変長のバッファを埋め込む手法が C99 では未定義挙動だとのことで空の配列の要素に書き換えてメモリ確保時に -1 した要素数ぶん多くメモリを確保させてたのをやめています。確か古いコンパイラだと逆にこういう書きかたが NG だったとかでこうしてたんだと思いますが、もう前提にしてる C のバージョンも変更したのでそちらにあわせることにすると。

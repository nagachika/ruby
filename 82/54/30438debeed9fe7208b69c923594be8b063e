pipe_open() で cmd という変数は fork(2) が利用可能な時だけ必要なので宣言を
HAVE_FORK による条件コンパイルの分岐の中に入れています。

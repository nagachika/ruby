同じく 39c37acf86960ae745c4d690fe2d9dd38cd96fba で rb_alloc_tmp_buffer2() を使うようにしたものの、確保したメモリのアンカーとして機能する VALUE v 変数が add_empty_keyword() 関数の自動変数として定義されているので関数を抜けると解放される可能性があったので、この変数を戻り値にしてしまい、そして呼び元で明示的に rb_free_tmp_buffer() で解放するようにしています。なるほどー戻り値にするという手があったか。

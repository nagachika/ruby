rb_string_value_cstr() で freeze された文字列から部分文字列を作って終端文字に
NUL 文字を置く時に例外が発生していたのを修正しているようです。ついでに
str_fill_term() で未使用になってた引数の削除や str_make_independent_expand() で
termlen などを引数に追加して重複した TERMLEN() の呼び出しを抑制するようにするリ
ファクタリングなどを行なっているようです。またテストでは r52832 で切り出してメ
ソッド化した終端文字書き換えを利用しています。

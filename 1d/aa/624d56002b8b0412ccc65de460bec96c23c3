File.stat の実装で rb_stat() に委譲して引数に to_io で変換できるかチェックして
fstat(2) を使うこともできるようにしたのでパスをわけて余計な変換を避けるようにし
ています。File.stat に IO オブジェクトも渡せるけど、まず to_path でファイルパス
に変換しているので、もう IO に変換できるかチェックする必要はないのでした。つま
り表面的な仕様には変化はないけど余計なパスを通らないようにリファクタリングした
、という感じかな。

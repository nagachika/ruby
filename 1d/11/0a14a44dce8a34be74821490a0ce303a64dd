SIGPIPE のシグナルハンドラは r31760 と r31761 で普段 SIG_IGN にしておいて exec
前に SIG_DFL にするようにしていましたが、exec 前の処理が SIG_DFL からまた空のハ
ンドラ(sig_do_nothing) を設定するように修正されています。コミットログには "for
avoiding a race" とあるので、exec 直前でシグナルハンドラを SIG_DFL に戻したとこ
ろでシグナル受信してしまうと残念なことになるので空関数で無視しておくということ
でしょう。execv(2) したら SIG_DFL や SIG_IGN は継承されますが関数のハンドラは
(当然プロセスイメージが上書きされて関数自体がなくなるので)リセットされるので
exec 後は SIG_DFL に戻るので OK というわけです。

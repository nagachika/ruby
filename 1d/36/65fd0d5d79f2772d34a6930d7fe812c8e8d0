vm_dump.c で SIGSEGV などを受信した時のバックトレースを出す情報で Darwin(OS X)
の場合にプログラムカウンタを取得するのに rsp レジスタからスタック上にのっている
値を取ってきていたのを、0 だったら rip レジスタの値を使うようにしています。シグ
ナルの受信時に Kernel 内だった(システムコール中)だったか、ユーザーランドだった
かで保存されている位置が異なるので、ユーザランドでシグナル受信した場合に対応す
るようにしているようです。 [ruby-core:77096] [Bug #12711]

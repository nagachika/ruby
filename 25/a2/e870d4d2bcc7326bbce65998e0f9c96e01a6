r46848 で切り出した parse_ident() をさらに記号を含まない部分を切り出す部分を関
数に切り出して、 $ や @ ではじまる変数の処理でも使いまわすようにしています。

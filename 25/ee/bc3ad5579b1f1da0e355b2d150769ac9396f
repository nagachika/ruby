キャストの不備の修正です。条件コンパイルで long が int32_t よりサイズが大きい時
の文なので int ではなく int32_t を使うようにしています。

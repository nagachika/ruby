INFINITY という定数マクロがよく参照されていますが、これは float 型の数値として
定義されてるそうなので、CRuby で Float の実装として使っている(即値化されている
flonum 以外で) double の時の定数として HUGE_VAL というのがあるそうでこっちを使
うように変更しています。また NAN も float なので nan() を使うようにしています。
へー、知らなかった。

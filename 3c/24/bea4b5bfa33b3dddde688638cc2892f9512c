やはり long と void * のサイズが異なる環境でのキャストの間違いを修正。

r52097 や r52101 の拡張ライブラリ socket の UDPSocket のメモリリーク修正の続き?
で xxxx_internal() 関数内で rb_io_check_closed() でソケットが閉じられてないか再
確認するようにしています。 GetOpenFile() も rb_io_check_closed() を含んでいるの
で、_internal() で再確認するのは別 Thread での変更のためかな、と思ったのですが
rb_ensure() は Thread 切り替えなしで関数を呼ぶみたいなので、なんでだろ…。コミ
ットメッセージをみるとむしろチェックを1回きりにしようとしているみたいなので、内
容と齟齬があるような気がします。

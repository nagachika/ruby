include/ruby/ruby.h で rb_secure() に 4 が渡されていたらコンパイル時にチェック
してエラーにするようにしているみたいです。 gcc の 4.4 以降で使える
__attribute__( ( error ) ) と __builtin_constant_p を使って定数だったらその範囲
をチェックするようにしているみたいです。これは拡張ライブラリで rb_secure(4) を
使っているところをチェックして変更を促すようにするためだと思います。

r52530 の sprintf の Hash の扱いで default 値をチェックするようにした影響で、キ
ーは存在していて値が nil の時にフォーマット文字列でそのキーを参照していると
KeyError が発生するようになっていたので rb_hash_lookup2() でキーがない時は
Qundef で検出するようにしてその時に default 値をみるように修正しています。また
キーの symbol がまだ存在していなかったら Hash の要素も存在しないのか確実なので
余分な文字列の symbol 化をしないようにしています。 [ruby-dev:49338] [Bug #
11677]

r37834 で WeakMap の修正のために rb_ary_delete() に似たような
rb_ary_delete_same_obj() という関数を作ったのを、共通部分を括り出して
rb_ary_delete_same() と関数名を変更するリファクタリングをしています。また戻り値
に削除した値を返すようにしていたのを戻り値なしに変更しています。
やっぱり気になるんですけど、ary_resize_smaller() での rb_ary_modify() の位置は
if の中でいいんじゃないでしょうか。実際に変更しなくてもメソッドを呼んだというこ
とでチェックしたほうがいいのかなぁ。そうかもしれませんね。

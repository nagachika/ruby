win32/win32.c の init_stdhandle() という標準入出力の fd を設定する関数で SetConsoleMode() で標準出力に ENABLE_VIRTUAL_TERMINAL_PROCESSING というフラグをセットするようにしています。 Windows 10 のコンソールでエスケープシーケンスを有効にするため必要とのこと。

Mutex#sleep は spurious wakeup するように変更されています。これは割り込みがあっ
た時などに指定した秒数が経過していなくても処理が返ってきてしまう可能性があるか
ら必要に応じて自分でループしろということだと思うのですが、うーんそうなんですね
。そこはインタプリタでよろしくやってくれるのが Ruby 流だと思ってたのですが。ま
あ Mutex#sleep はあまりアプリケーションで直接使うことはない低レイヤのメソッドの
ような気もするのでそれもでいいのかも。なお Queue とトラップハンドラを組み合わせ
た時の不具合の対処のために入った変更とのこと。そういえば Queue を C で再実装す
るっていうチケットもあったような。 [ruby-dev:46654] [Bug #7455]

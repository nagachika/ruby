Array#flatten や #flatten! の実装で途中に利用する st_table 構造体が途中で例外が発生した時などに解放されずメモリリークする可能性があったので Hash オブジェクトで wrap して GC 経由で解放できるようにしています。

Kernel#sprintf などの %f 識別子の時の処理をリファクタリング。 Infinity や NaN
の時の処理を正負に分岐してから幅を計算していたのを共有するようにしています。

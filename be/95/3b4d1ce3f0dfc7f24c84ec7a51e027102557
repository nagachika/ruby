clang -O でコンパイルした時の最適化避けのために volatile の変数宣言の追加などを
しています。 MEMCPY によるコピーを for ループにしているところもあります。これは
clang ではどう問題だったのだろう。ともかくこれで ruby は clang 3.0 で -O オプシ
ョンつきでコンパイルして動くようになったそうです。

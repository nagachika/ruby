String#inspect で "\0" (NUL 文字)を含む文字列を "\0" と表示するようにしていたの
を "\000" に変換するようにしています。これは NUL 文字のあとに数字が続くと "\ooo
" の8進数表記のエスケープシーケンスと区別が付かなくなってしまうからということの
ようです。なるほど。これは 2.0 からのデグレみたいです。 [ruby-core:54458] [Bug
#8290]
しかしこれでどうやら rubyspec が 3つほど failures が出てるようです。こまかいと
ころを拾ってますね。 test-all にも追加したほうがいいかもしれませんね。

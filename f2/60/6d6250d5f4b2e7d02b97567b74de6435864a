array.c に ARY_SET() というマクロを追加して RARRAY_ASET() + shared array でない
かのチェック(assert())をするようにしています。 r45568 の影響を検証するための(多
分一時的な)デバッグコードだと思います。

rational.c の get_dat1(), get_dat2() というマクロを変数宣言と代入に展開していた
のを宣言と初期化を同時に行う 1つの文として展開するようにしています。 if とか
while 文にかっこなしで入れても安心。そんなことしないとは思いますが。
[追記]これ、コードブロックの先頭の変数宣言の位置に書くと代入文に展開されるので
、その後に続いて宣言を書くと C としては規約違反になってしまうという問題の回避の
ためだったそうです。 [/追記]

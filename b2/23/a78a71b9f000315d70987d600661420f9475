iseq.c の rb_iseq_new_with_opt() で条件演算子を使って実質代入文の分岐をしていたのを、条件によって値の型が変わるので未定義挙動になるとのことで if 文を使って書きかえています。

拡張ライブラリ socket の Socket::Option の引数チェックをマクロ化して共有するよ
うにリファクタリングしています。

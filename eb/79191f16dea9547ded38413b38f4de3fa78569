COLDFUNC という関数定義の attribute に使うマクロを導入してコンパイラがサポート
していたら(今は clang か gcc の 4.3.0 以降という判定のしかた) __attribute__(
(cold) ) をつけるようにしています。 rb_bug() や rb_memerror()、rb_warn() の宣言
につけています。この関数はあまり呼び出されないことをコンパイラに伝えてコードの
locality や、この関数を呼ぶ path はあまり通らないはずという情報を使って最適化す
るようにするみたいです。

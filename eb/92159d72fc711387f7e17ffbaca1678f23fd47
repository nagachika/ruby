dd883de5ba311c38818d0f638a94b4fbc63f5ee5 とそれに関連する rb_method_entry_t などの method 関連の構造体を極力書き換えないようにする変更(https://github.com/ruby/ruby/pull/2486)を revert しています。よくわかってませんが method の再定義が繰り返し行なわれた場合に、実際には cache が破棄されて GC で解放されているのに検索結果の method entry が同じものに戻っている場合に inline cache がまだ有効だと誤判定してしまって SEGV を引き起こすケースがあったようです。コミットログにサンプルがあります。だいぶ珍しい条件な気がするけどまあテストとかでメソッドを一時的に書き換えるとかではありそうですね。

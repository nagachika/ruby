r57302 の続き。文字列のエンコーディングが ASCII 非互換な時にブロック呼び出しに
渡すパラメータが残りの文字列全体になっていたので、置換したい文字のぶぶんだけ切
り出したものを渡すようにしています。 [ruby-core:79038] [Bug #13119]

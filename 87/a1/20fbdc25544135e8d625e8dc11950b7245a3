RGenGC で Class, Module や内部的に生成される IClass (Module を include した時に
継承ツリー上に挿入される Module の代理のクラス)を Shady ではなく Normal なオブ
ジェクトとして扱えるように Write Barrier を挿入しています。これに伴ない struct
RClass のメンバには直接は存在しませんがそこからリンクされている構造体の VALUE
型のメンバに const を付けて直接更新することを禁止して、操作する場所で Write
Barrier を挿入しています。 RClass は既に割と内部を直接触るのより API を通じて操
作することを推奨してきていたので、新たに操作用のマクロを導入したりということは
ないので、拡張ライブラリからもこれまで通り API を経由して操作するようにすればい
いと思います。

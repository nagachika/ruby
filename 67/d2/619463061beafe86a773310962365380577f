win32/win32.c の open_dir_handle() という関数で get_final_path() に渡すバッファのサイズを FINAL_PATH_MAX という定数を元にするようにしています。これは PATH_MAX にさらに "\\?\" という prefix を追加したもののようです。

rb_str_resize() で指定された len が現在の文字列長と同じだと操作していなかったの
ですが、RVALUE に埋め込み可能な文字数で埋め込みになっていなかった場合は埋め込み
するようにしています。
コミットログを読むと、サイズが変化しなくても capacity より小さい時は切りつめる
ように realloc するみたいに読めるのですが、差分を読むとどうもそうなっていないよ
うな気が…(REALLOC_N() を呼ぶ分岐は slen == len だと入らない)。あ、でも capa の
値自体は len で上書きされますね。そういうことなのかな。

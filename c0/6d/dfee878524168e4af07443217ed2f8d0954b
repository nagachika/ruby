3f9562015e651735bfc2fdd14e8f6963b673e22a の String の shared を常に root のバッファを参照するようにした変更で rb_fstring() で dedup するとバッファをコピーするので孫 shared した String オブジェクトが気がつかずに解放されたバッファを参照してしまう可能性があった(コミットログに一応説明があります)のを修正しています。 [ruby-core:92412] [Bug #15792]

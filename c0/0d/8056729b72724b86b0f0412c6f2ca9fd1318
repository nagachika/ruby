標準添付ライブラリ reline でプロンプト文字列にエスケープシーケンスが含まれていた時にそのまま出力するようにしています。

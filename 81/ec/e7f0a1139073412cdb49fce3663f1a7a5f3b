大量のファイルを開いて IO.select するテストで Process.setrlimit で
RLIMIT_NOFILE を設定する時にテスト用に開くファイル数 +10 で設定していたのを +20
まで増やしています。他の用途で開くファイルが増えてしきいちを超えたようですね。

Hash#each がブロックを起動する時の key と value のペアをブロックパラメーターに渡す時の扱いが lambda タイプの Proc オブジェクトをブロックとして渡した時に一貫性がなくなっていたので、常に第1引数に2要素の配列を渡すように呼び出すようにしています。これにより2引数の lambda やメソッドを Proc 化したものをブロックとして渡すと ArgumentError が発生するようになります。無意識に使ってるところけっこうありそうだなぁ。 [ruby-core:77069] [Bug #12706]

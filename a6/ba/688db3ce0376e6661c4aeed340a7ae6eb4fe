r46866 の Array#any? の実装で rb_yield() 内で配列が変更されると不正アクセスにな
る恐れがあるので、ループの外で配列のサイズやバッファを取得して利用するのではな
くて、ループ内で毎回サイズやバッファへのアクセスを RARRAY_AREF() を使って行なう
ようにしています。

IO#write の複数引数対応(writev(2) 対応)でバッファが有効な時は io_fwrite() を使
って通常の出力をするようにしています。テストで pipe への書き込みで EPIPE が発生
していた現象の対応みたいですが、io_fwritev() から呼ばれてる io_binwritev() も
fptr->wbuf は考慮するようになってそうですけどね。バッファに入れずに実際に書くか
ら EPIPE が発生する(従来はバッファに入れるだけですぐには実際に書かず、finalizer
でエラーが発生してたので無視されてたそうです)ということです。まじか。/
[ruby-core:83578] [Feature #14042]

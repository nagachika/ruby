String#slice! で freeze した文字列を変更しようとしたら常に例外が発生するように
str_modify_keep_cr() の呼び出しは結果が nil かどうかのチェック前に行なうよう
r31004 の一部を戻しています。

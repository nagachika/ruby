dir.c でディレクトリ走査のため readdir_r(3) を利用していたのをやめて readdir(3)
を使うようにして、それに伴なって configure のチェックなど不要になったものを削除
しています。 readdir_r() を使わなくていいのかという議論が Twitter 上で流れてて
、追い切れませんでしたが、同じ Dir オブジェクトを複数の Thread で同時に read す
ると競合が起きる(これは当然)し、dup して複製を作っても環境によっては位置の制御
が干渉してしまうことがある、みたいな話になっているみたいでした。
この変更の影響はどこか読み返しやすいところに書いてて欲しいですね。

同じく spec/rubyspec/core/process/fixtures/kill.rb のテストで Signal.trap のハ
ンドラが呼ばれたかのチェックに Mutex#locked? を利用するようにしています。なんと
ロックを掛けっぱなしにするのか。シグナルが再送されるとメインスレッドがデッドロ
ックすると思うけど…。けどその作りは元からですね。大丈夫なのかなこれ……。まあ
このスクリプト自体子プロセスとして起動されるものみたいなので短命なのでしょうけ
ど。

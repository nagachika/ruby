test/ruby/test_process.rb で fork した子プロセスから親プロセスに対してシグナル
を送信するテストで、Process.ppid で親プロセスの pid を取得していたのを、親プロ
セスで $$ を保存しておいてそれを使うように変更しています。子プロセスができてか
ら Process.ppid が呼ばれる前に親プロセスが死んでいたら、ppid が別のプロセス
(init とか?)になるので本来送信するべきでない pid にシグナルを送信してしまう可能
性があるため。よく気がつきましたね、というか、実際にこのわずかな瞬間に親プロセ
スが死ぬ現象に遭遇したんですかね。一般的に ppid にシグナル送信というのがよくな
いというのが目にとまったのかも。

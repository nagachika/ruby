2038cc6cab6ceeffef3ec3a765c70ae684f829ed で拡張ライブラリ socket の名前解決で getaddrinfo_a(3) を使うようにした結果 fork がうまく動かなくなったので 94d49ed31c39002335eeee65d42463139f561954 やその後の変更で背後で動いてる thread をキャンセル するようにしましたが、確実に終了したのを待つ方法がなくて fork 前に常に 1.5秒 sleep するようになってしまっていたのですが、さすがにこれは許容できないということで rb_getaddrinfo_a() を利用するようにする変更を revert して rb_getaddrinfo_a() の実装も削除しています。 [Bug #17220] [Feature #17134] [Feature #17187]

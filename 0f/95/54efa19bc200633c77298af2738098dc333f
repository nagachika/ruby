テストライブラリの並列テストの通信部分で IO#puts を使っているところがありました
が、puts は改行を追加する時に別の write メソッドを呼び出しを行うので、マルチス
レッドで書き込む場合に複数の行が繋がってしまう可能性があったので、呼び元で改行
を追加した上で write メソッドで atomic に書き込むようにしています。

いまいちなぜ発生するか理解しきれてないのですが、オブジェクトのクラスの継承ツリ
ーを辿って特異クラスや IClass を除いた普通のクラスを取得する関数 rb_class_real
() で、辿っている途中で NULL になった時に SEGV する不具合を修正しています。
Module を include してメソッドを alias した Module を prepend したクラスの
Method オブジェクトを取り出して inspect を呼ぶと起きるそうです。うーん、なんか
これは prepend 時の処理に考慮漏れがあるような気も。 [ruby-core:65214] [Bug #
10282]

C++ 用ヘッダファイルのテスト用の拡張ライブラリをビルドするための extconf.rb でリンクできるかのチェックに使うソースコードに RUBY_ALTERNATIVE_MALLOC_HEADER というマクロが定義されてたらこれを #include するようにしています。 jemalloc などの標準以外の malloc 実装を使うためのヘッダが必要だったら定義しておくというマクロのようです。

Windows 環境でコマンドライン引数を処理しているとおぼしき rb_w32_cmdvector() と
いう関数を内部的な関数 w32_cmdvector() と改名し、コマンドライン文字列を
GetCommandLine() ではなく GetCommandLineW() で取得して const WCHAR * で渡すよう
にしています。これに対応して引数に code page も追加して、関数内の文字列の比較等
の処理も WCHAR * 用のものに変更しています。これによる動作の変化はまだないはず
(ないといいなぁ、くらいかも)とのことです。
知らなかったのですが Windows 環境では main() 関数が受け取る argc, argv は
rb_w32_sysinit() という関数で独自にコマンドライン文字列から読みとったもので置き
換えられているんですね。

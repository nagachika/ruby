このチケット完全に見落していたのですが Object#inspect (やその他組み込みクラスで
再定義されている inspect)が内部で to_s を呼ぶのではなく to_s の alias になりま
す。つまり to_s を再定義しても自動的に inspect の結果が変化するとことはなく、独
立して元の実装を引き継ぐようになっています。正確には Object#inspect は Object#
to_s の alias ではなくてインスタンス変数がないときの挙動が to_s メソッドを動的
に呼ぶのではなくて rb_any_to_s() という C の実装を直接呼ぶようになっています。
これは結構地味に大きな変更ですねー。意外なところで影響を受ける人が居そうです。
[ruby-core:43238] [Feature #6130]

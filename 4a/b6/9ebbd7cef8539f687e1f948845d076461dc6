fstring の管理テーブルに登録する文字列は taint フラグやインスタンス変数を持たず
、クラスも String 自体(子クラスのインスタンスではない)ものを登録するようにして
います。その判定のために BARE_STRING_P() というマクロを導入し、この条件を満たさ
ない文字列が rb_fstring() に渡されたら新たに bare な文字列オブジェクトを作って
それを登録し、それとバッファを共有する文字列にして返すようにしています。
rb_fstring() に渡した文字列の taint フラグが引き継がれない不具合を修正していま
す。 [ruby-dev:49188] [Bug #11386]

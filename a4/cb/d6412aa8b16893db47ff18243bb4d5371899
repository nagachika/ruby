例外発生時に例外オブジェクトを生成するのを control frame を pop する前に生成し
ておくようにすることで set_trace_func や TracePoint で例外発生のイベントが
raise メソッドの開始→例外発生→ raise メソッドの終了の順になるように修正してい
ます。これまでは raise メソッド開始→メソッド終了→例外発生という順序になってい
たようです。 [ruby-core:57109] [Bug #8886]

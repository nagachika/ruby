IO#ungetbyte の実装で Integer(Fixnum) から直接 char 型の変数に代入して文字列化
していたのを int 型の変数に変換してから 256 以上の数値だったら RangeError 例外
を発生させるようにしています。これまでは黙って下位ビットのみ使ってたので仕様変
更になりますね。 [ruby-core:84872] [Bug #14359]

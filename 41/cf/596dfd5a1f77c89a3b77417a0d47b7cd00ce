waitpid_cleanup() で w->ret をチェックしてから list_del() で管理リストから外す
処理をしてたのを、無条件に行うようにしています。 "Not sure why," とかコメントし
てあってなんかあやしげですね。

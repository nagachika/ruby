改行コードの変換ありのテキストモードの IO で eof の検出に失敗することがある不具
合を修正しています。詳細は把握していませんが io_fillbuf() で続きの読み込みをし
てみると改行コードの変換ありの時にうまく EOF を検出せずずっと最後の文字を読み続
けてしまうことがあったようです。 [ruby-core:44189] [Bug #6271]

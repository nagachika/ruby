CRuby が利用しているハッシュテーブル st_table の C API の追加です。要素の変更、
削除をするために st_lookup() で検索して st_insert()/st_delete() するのだと同じ
要素を2度探索しないといけないため、一度にまとめてコールバック関数の返り値に従っ
て更新or削除する st_update() という関数を追加しています。 [ruby-dev:44998]
なおテストも追加されているのですが実装は st_table の要素数によって packed(配列
にべたに並んでいる時)とハッシュ関数を使っている時で分かれているので、要素数2の
ハッシュテーブルだけなので前者しか通ってないと思います。あと l.778 の tmp =
ptr->fore; が不要?

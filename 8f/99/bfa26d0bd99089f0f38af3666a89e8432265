テスト用のライブラリ tool/lib/minitest/unit.rb の MiniTest::Unit::TestCase.test_order でテスト順のオプションに random が指定された時に単に shuffle を呼んでたのをテスト名の CRC32 に乱数による salt を使ったものでソートするようにしています。テストが追加されると seed を固定しても順序が一定にならないので、ランダムにはしつつテストの追加削除にも強く再現性のある方法でシャッフルするためみたいです。なるほどなぁ。

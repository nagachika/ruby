thread_pthread.c に reserve_stack() という関数を追加して、alloca() を呼んでスタ
ックサイズ分のメモリを確保しておくことで、一部の Linux 環境でスタックオーバフロ
ーで SIGBUS が発生する問題を回避しようとしています。pull request によるとスタッ
クがヒープ領域の近くにある時にスタックの伸長で衝突することがあるのを回避するた
め、あらかじめ alloca() でメモリ領域を予約しておくことでこれを防ごうとしている
ようです。なるほどなぁ。Linux がスタック用領域の伸長サイズを見込んで避けてはく
れないんですねぇ。 https://github.com/ruby/ruby/pull/822
これは多分 RubyCI での stack overflow のエラーにも関係しそうなので 2.2 だけじゃ
なく 2.1/2.0.0 にも backport したほうがいいかもしれませんね。

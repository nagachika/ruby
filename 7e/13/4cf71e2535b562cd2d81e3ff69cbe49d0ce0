Windows で text mode (改行コードの変換あり) の時にバッファをクリアする特にバッ
ファの末尾が "\r" だと改行の調節が漏れていたのを修正しています。
[ruby-core:44874] [Bug #6401]

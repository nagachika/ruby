for 文の変数代入部分で複数の変数への代入が行なわれる場合の VM 命令へのコンパイ
ル処理を変更して、内容が配列かどうかの判定を "===" メソッドで行なっていたのを
try_convert メソッドで行なうようにしています。うーん、これはどういう効果がある
のかなとチケットをみると、to_ary メソッドで配列への変換が定義されているオブジェ
クト(つまり暗黙的な変換時に配列と同等に扱かわれることが期待されているオブジェク
ト)が変換後に複数の変数に splat されるようになるようです。うーん、まあ for 文自
体ほぼ使わないのでどの程度影響があるかわかりませんが。 [ruby-core:84931] [Bug #
14374]

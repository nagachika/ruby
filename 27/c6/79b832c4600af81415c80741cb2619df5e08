マルチバイト文字と改行を含むメッセージの例外を発生させて rescue しないと SEGV
する不具合を修正しています。バイト数でカウンタを持っていたのに rb_str_subseq()
ではなく rb_str_substr() を用いているところがあったのがいけなかったようです。
[ruby-core:67473] [Bug #10727]

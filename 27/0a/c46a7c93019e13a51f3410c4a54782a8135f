しかしここで再度 do_hash() を呼ばないように変更されています。 st_table が
packed になるのは numhash(数値がキーのハッシュテーブル)の時だけで、その時のハッ
シュ値計算はキーをそのまま使うのでハッシュ値計算をする必要がなかったということ
です。ただ do_hash() マクロでのキャストが間違っていて結果的に long と int の幅
が異なる時には do_hash() を呼ぶかどうかでハッシュ値が変化してしまっていたので、
そちらを修正しています。

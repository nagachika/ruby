test/ruby/test_thread.rb の Mutex#synchronize のテストで Mutex#synchronize のブ
ロック内で 100.times{} のからっぽのループを置いて割り込まれやすいようにして、そ
れでも一貫性が保たれることを確認するようにしています。 while ループが使われてい
て、また r += 1 だと最適化が効いて opt_plus 命令によってメソッド呼び出しが起き
ずに VM が直接加算してしまうというのもあってこのループ実行中に割り込まれないよ
うになってたっぽいですね。 [Bug #11496]

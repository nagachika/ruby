respond_to? には省略可能な第2引数があるのですが、ライブラリなどで自前で
respond_to? を定義している時に引数を1つしか定義していなくて、処理系から第2引数
を指定して呼ばれると ArgumentError になってしまうということが起きるので、
respond_to? を呼ぶ時には arity をチェックして、引数が 2つ渡せない時には引数を1
つだけにして呼ぶようにしています。 [ruby-core:42493] [Bug #6000]
そういえば確か pry もこの不具合がありました。あとチケットの番号が 6000 番台に到
達しましたね。

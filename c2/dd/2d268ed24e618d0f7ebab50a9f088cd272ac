r56320 の String#hash の変更などに端を発するものだと思いますが、st_data_t 型の
変数を整数オブジェクトに変換する場合 st_data_t の値は Bignum になる可能性がある
のですが、そうすると hash 値が Bignum を返すようになって問題がおきることがある
そうで(なんだろ)、ST2FIX() というマクロを追加して long にキャストしてから
Fixnum に変換するようにしています。あれでも long も全て Fixnum で表現できる範囲
に収まるわけではないよな、と思ったら RB_LONG2FIX() は上位 1bitは無視して左
shift してしまうのでそこは問題ないみたいでした。

r43968 で追加した st_update() 用の関数 fstr_update_callback() で変数の宣言がブ
ロックの途中に存在していたので関数先頭に移動しています。

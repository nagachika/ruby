CGI.escape で渡された文字列にそのエンコーディングにおいて不正な文字が含まれてい
る場合に例外が発生してしまうので、一旦 ASCII-8BIT に変換してエスケープ処理した
後に元のエンコーディングに戻すようにしています。 [ruby-dev:45139] [Bug #5913]

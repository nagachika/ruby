拡張ライブラリ socket で struct addrinfo を利用しているところを、拡張ライブラリ
で定義している struct rb_addrinfo で1段階包んで使うようにリファクタリングしてい
ます。この構造体には struct addrinfo へのポインタの他に allocated_by_malloc と
いうフィールドがあるのですが、今回の変更のなかで特にこれを使ってる様子はないの
で単に包んでいるだけっぽいです。なぜだろう……と思ったら allocated_by_malloc は
次の r45047 で追加されていて、確保する方法が異なるため解放方法も変更するために
利用しようとしているようです。

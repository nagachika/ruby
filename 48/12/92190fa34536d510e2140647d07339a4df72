Array#sort! で要素数が少なくて struct RVALUE の中に埋め込めるけど実際には埋め込
まれてなくてヒープを使っている配列に呼ばれると ARY_SHARED_P() の分岐の中に入っ
ていたため、共有されていない埋め込み型の配列に対して呼ばれた時に、埋め込みじゃ
ないのに埋め込みフラグを立ててしまってメモリリークが発生することがある不具合を
修正しています。おおー、これ再現スクリプトをみてたけど埋め込みの有無が問題だっ
たのかー。 [ruby-dev:49166] [Bug #11332]

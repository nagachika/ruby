r63192 で導入された終端のない Range いわゆる endless range をリテラルで (1..nil
) のように明示的に終端を nil に指定した記法はできないようにしているようです。
(1..) のように終端を書かない記法は許されています。 (1..var).to_a みたいに書いた
時に var がうっかり nil だったら to_a がメモリを食い潰すから、ということみたい
ですが、ってことはリテラルの nil だけじゃなくて評価した結果が nil の時も NG な
んですね。でも to_a の時点でエラーにしたら? という提案があり後に revert されて
います。 [ruby-dev:50568] [Bug #14845]

File.extname は通常拡張子の "." (ドット)も含んだ部分を返しますが、ファイルの末尾が "." で終わる場合はこれを削って(拡張子ではない、ということなんでしょうね)空文字列を返していましたが、この例外処理のためファイル名が basename + extname で復元できないエッジケースができてしまうということで仕様変更して "." を返すようにしています。なるほどなー。確かにこっちのほうが一貫してる気はする。 [ruby-core:89615] [Bug #15267]

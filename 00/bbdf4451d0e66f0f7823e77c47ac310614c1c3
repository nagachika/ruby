Range#count メソッドを定義して endless range に対して count メソッドを無引数で呼んだ時に無限ループに陥って停止するのではなく Float::INFINITY を返すようにしています。引数やブロックが渡された場合は従来通り無限ループします。 [ruby-core:95939] [Bug #16366]

r33361 で finalizer 処理の再入を禁止するようにしたところでフラグのチェックに
ATOMIC_EXCHANGE を使って変更前の状態をチェックすべきところを ATOMIC_SET を使っ
ていて、Solaris 版の実装でエラーになっていたのを修正しています。
[ruby-dev:44596] [Bug #5439]

FileUtils#remove_entry_secure でディレクトリの削除時に、ファイルの種別をチェッ
クしてから実際に削除しはじめるまでの隙間にそのディレクトリを移動されてかわりに
シンボリックリンクが作成されるという攻撃に対処しています。File#chmod で他ユーザ
の書き込み権限を消した後で再度ディレクトリが置き換わっていないかのチェックを追
加しています。このメソッドは FileUtils.rm_r に :secure オプションを指定した時に
利用されます。
もう公式サイトにも公開されていますね。1.8.7, 1.9.1, 1.9.2 のそれぞれのパッチレ
ベルリリースされていあすのでこちらを参照してアップグレードしてください。 http:/
/www.ruby-lang.org/ja/news/2011/02/18/
fileutils-is-vulnerable-to-symlink-race-attacks/

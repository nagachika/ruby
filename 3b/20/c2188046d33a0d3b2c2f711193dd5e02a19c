メソッドの定義時に iseq の cref に情報をコピーする関数マクロ COPY_CREF() で
cref->flags の NODE_FL_CREF_PUSHED_BY_EVAL ビットフラグを伝播させるようにしてい
ます。これは class_eval/module_eval の中でクラスメソッド(特異メソッド)を定義し
た時にメソッド内からの定数探索が静的スコープに依存しなくなるという不具合を修正
するものです。またこの影響で失敗するテストの修正もされています。
[ruby-dev:43365] [Bug #4536]

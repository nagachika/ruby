浮動小数点数には +0.0 と -0.0 が別のものとしてあるのですが、hash メソッドでこれ
が別の値を返していたのですが、同じ値を返すようにしています。 +0.0 と -0.0 は数
値として '==' で比較すると true を返すので同じハッシュ値にしないと一貫性が取れ
ないということみたいです。うむ。まあ誤差のことなど考えると Float を Hash のキー
に利用するのは(用途によりけりでしょうけど)あまりおすすめできないとは思います。
[ruby-core:68541] [Bug #10979]

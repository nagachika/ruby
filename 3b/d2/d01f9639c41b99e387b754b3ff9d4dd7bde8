SIGCHLD がない時に不要な関数定義などがあったので preprocessor による分岐を追加
して不要コードを括るようにしています。

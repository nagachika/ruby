ruby の初期化処理でロードパスを生成するところで dladdr(3) を使ったり Windows 版
の時などパスが可変長の場合と、固定長の配列を使う時で VARIABLE_LIBPATH というマ
クロで処理を切り分けているのですが、末尾に nul 文字を追加する処理を固定長の時だ
けにしています。可変長の時は文字列オブジェクトのバッファなので共有文字列の内容
を書き変えてしまうのを防いでいるようです。

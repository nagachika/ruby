eval_error.c の warn_print() というマクロで GCC 拡張を利用して引数がリテラルの
時のみ rb_write_error2() を直接呼び出すようにしています。なぜリテラルの時だけか
というと、strlen(3) にも渡すので2回評価してしまうので副作用がないとわかっている
時にだけ関数呼び出しを1つ展開するようにしているのだと思います。

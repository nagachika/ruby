rubyspec の Hash#transform_keys のテストで 31e0382723bfb35cffe3ca485dd0577668cafa07 で修正したブロックで break した場合にキーが消えるという挙動について既存の挙動のテストがあったのですが、3.0 ブランチにはバックポートしたため 3.0.2 以降は新しい挙動になるようにバージョンによる分岐条件を変更しています。 ruby/spec リポジトリに変更を pull req したのでそれをバックポートしていただいた感じです。

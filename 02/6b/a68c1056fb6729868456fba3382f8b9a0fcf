rb_io_from_fd() で fd から IO オブジェクトを作る時に mode の FMODE_PREP ビットを落としてたのを逆に立てるようにしています。このビットが立ってると autoclose で閉じられるみたいなのでそれを避けるためのようです。

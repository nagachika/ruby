Object#singleton_methods で receiver 自体が特異クラスの時にその特異クラスのインスタンスが所属するクラスにあるクラスメソッドが出現してしまうという不具合を修正しています。このために singleton_metods を呼んだら内部で singleton_class を生成して見えないようにしているんだけど、うーんまあこれはしょうがないかな。副作用があるわけだけどはっきり ruby レベルで見えるものではないし。 [ruby-core:68289] [Bug #10901]

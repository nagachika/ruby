複数の Thread から同時に同じエンコーディングをロードしようとすると競合してエラ
ーになることがある不具合を修正。 rb_require_safe() が Qfalse を返してもエラー扱
いにしないようにしています。他の Thread が読んでロード済みになったら Qfalse が
返ってくるからですね。 [ruby-dev:49106] [Bug #11277]
ところで rb_require_safe() に渡しているのは $SAFE の safe level みたいですね、
2, 3 も廃止されたのでここで 3 より大きいかチェックしているところも 1 より大きい
かにしたほうが良さそうですね。

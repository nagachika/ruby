IPv4 アドレスの数値の前に0埋めがあった時に IPAddr.new のチェックがエラーにする
かどうかがプラットフォームによって違っていたので(Windows では例外、Linux や Mac
OS X では無視されていたそうです)、どのプラットフォームでも例外を発生させるよう
にしています。 [ruby-dev:45671] [Bug #6509]
また x:x:x:x:x:x:d.d.d.d といった IPv4 互換の(?) IPv6 アドレス表記を許可するよ
うにしています。
また IPSocket.valid_v4? や IPSocket.valid_v6? といったクラスメソッドを private
に宣言するようにしています。

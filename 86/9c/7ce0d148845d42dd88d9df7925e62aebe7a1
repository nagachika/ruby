標準添付ライブラリ tmpdir で拡張ライブラリ etc を require しているところを
begin .. rescue LoadError で囲んで etc がビルドされなかった場合を考慮していたの
をやめています。 r45692 で常に etc をビルドするようにしたので不要になったという
ことでしょう。けどここ "etc.so" と拡張子が決め打ちで書かれているので特定の環境
のみっぽい…と思いきや Mac OS X では require "etc.so" でもちゃんと etc.bundle
がロードされるので ".so" は拡張ライブラリを指定する拡張子として扱われてるみたい
ですね。ちょっと load.c を覗くと、".so", ".o" と RbConfig::CONFIG["DLEXT"] がど
れも拡張ライブラリを明示的に指定するために使えるようなので環境によらず ".so" は
使えそうですね。

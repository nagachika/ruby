io.c の rb_io_puts() で再帰的に呼び出しする時に rb_check_array_type() で配列に
変換した場合にその変換したオブジェクトを使ってしまうと rb_exec_recursive() で循
環を検出するのに失敗して無限再帰に陥ってしまうので、変換できるかどうかの確認だ
けしたらその結果は使わず元のオブジェクトを再帰呼び出しに使うようにしています。
またこのため io_puts_ary() の引数が配列じゃないことがありえるので
rb_check_array_type() を呼ぶようにしています。 [ruby-core:42444] [Bug #5986]

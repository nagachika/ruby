autoload の thread safe 化の追加の修正です。定数のテーブルに初期化中の中途半端
な構造体を先に挿入していた状態で GC が走る可能性があった為に mark でメモリ破壊
する可能性があったので、初期化後に追加するようにしています。また autoload 中の
定数をクラス定義で初期化しようとした時に autoload 中かどうかのチェックが走って
、そこで誤判定されていたのを修正しています。しかしここで誤判定されても
rb_autoload_load() では続いて rb_autoload_required() や現在のソースファイルが
load 中のものと同じじゃないかといったチェックが含まれているので大丈夫のように思
えるのですが何が起こっていたのかちょっとわからないです。

GC.compact の処理で Thread の処理時に現在の Fiber の更新処理も含めてたのをやめて、rb_execution_context_update() の呼び出しも Fiber が存在しない時だけ呼ぶ(おそらく Fiber があった場合は Fiber 経由で呼ばれるのにまかせるというとだと思います)ようにしています。

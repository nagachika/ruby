拡張ライブラリ socket で Socket#connect などで wait_connectable() で getsockopt
(2) で取得したエラーが 0 だった時に書き込み可能であればループを抜けるようにして
います。 FreeBSD で無限ループに陥ることがあったそうです。ここでエラーを取得しよ
うとしていたのは select/poll がエラー時に OUT のイベントのビットのみ立てて返す
ためだったみたいですが、Windows での WinSock の対応もからんでいるそうで、変更が
積み重なっていくうちにおかしなことになっていたみたいですね。 [ruby-core:60940]
[Bug #9547]

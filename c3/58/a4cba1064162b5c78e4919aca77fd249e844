gcc 4.7 の不具合で最適化が効き過ぎて、ネストしたブロック内で宣言した char [] の
ような配列の変数が消えてしまうのに対処する修正のようです。関数の最初のブロック
で該当する変数を宣言するようにしています。 [ruby-core:42085] [Bug #5888]

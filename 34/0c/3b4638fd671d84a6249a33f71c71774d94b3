Process.spawn 等は fork 後に子プロセスでエラーにならなかったかをパイプで通信し
ていますが、そのパイプのファイルディスクリプタから IO オブジェクトにするところ
でエラー情報が書き変わらないように先にエラー情報を取っておくようにしています。

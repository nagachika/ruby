r49405 の追加修正で、終端文字は NUL文字に決め打たず TERM_FILL() を利用してワイ
ド文字エンコーディングの時を考慮するようにしています。またテストも追加していま
す。ここで r49403 で追加したクラスメソッドを利用しています。 https://github.com
/ruby/ruby/pull/821

2.0 で追加されたキーワード引数は省略時のデフォルト値というのを定義することで常
に省略可能になっているのですが、省略不可能なキーワード引数というのを定義できる
ようにしています。
def m(a, k1: k2:)
  [a, k1, k2]
end
のようにキーワード引数の ":" の後にデフォルト値を省略すると必須キーワード引数に
なるようです。さてこれは 2.0.0 ではどうしましょうかねぇ。ささださんが指摘してい
るように僅かな文法の非互換がありますが、2.0.0 もまだ p0 なのでまだインパクトは
大きくないでしょうけど。 [ruby-core:51454] [Feature #7701]
AST を作る時にデフォルト値なしのキーワード引数のデフォルト値部分を (NODE*)-1 に
することで表現しているみたいなんですけど、これは NULL ではだめなんでしょうか。
arg_value をみると値がない時でも NODE_NIL のノードが入りそうですけど。
あと iseq_set_arguments() で VALUE 型の required を 0 で初期化してたのが少し気
になりました。必要になった時に Array を生成して代入しているので動作に問題はない
と思いますけど。
あと NEWS ファイル、と思いましたが 2.0.0 に入れるとしたら NEWS ファイルはどうす
るんだろう……。

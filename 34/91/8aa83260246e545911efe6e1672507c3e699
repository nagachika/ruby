defined? 系のメソッド(const_defined? とか instance_variable?、method_defined?
など)へ String を渡した時に内部で Symbol に変換してから確認していましたが、メタ
プログラミングで大量の文字列でこれらのメソッドを呼ぶと全てシンボル(内部的には
ID)が割り当てられて、現在の CRuby では Symbol は一度割り当てられると解放される
ことがないのでシンボルテーブルが不必要にふくれ上がってしまうので、intern する前
に既にその Symbol が割り当て済みかチェックして、まだ割り当てられていなかったら
そこでチェックをやめる(Symbol が割り当てられてないということはその名前のメソッ
ドとか変数はまだ定義されていないはず)ようにしています。 [ruby-core:38367]
[Feature #5072]

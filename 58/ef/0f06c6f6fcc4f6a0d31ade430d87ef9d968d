Ruby スクリプトのデフォルトのソースエンコーディングが US-ASCII から UTF-8 に変
更されています。文字列リテラルや正規表現はマジックコメントが省略されている場合
これからは "UTF-8" として扱われます。
これに対応するため標準添付ライブラリやテストにマジックコメントが追加されました
。けっこう大きな変更ですが UTF-8 が通常のエンコーディングの世界ではあまり問題は
ないかもしれません。これまではアプリケーションはだいたい常にマジックコメントを
明記するけどライブラリは -K オプションの影響などを考えて(省略されていれば指定さ
れたデフォルトのエンコーディングが適用されるので)明示しない方針だったと思います
が、今後はライブラリもエンコーディングを意識して明示するようにすべきってことで
しょうか。 [ruby-core:46021] [Feature #6679]

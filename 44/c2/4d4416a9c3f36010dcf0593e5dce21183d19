拡張ライブラリ io/console に 1.9 で未定義のマクロや関数の利用している部分を、自
前で定義したり代替の関数の利用に置き換える条件コンパイルを行なったりしています
。 io/console は gem パッケージとしてもリリースされているため、1.9 でも動くよう
にしておく必要があるため trunk 上のソースでもこのような対処が必要です。
[ruby-core:52220] [Bug #7847]

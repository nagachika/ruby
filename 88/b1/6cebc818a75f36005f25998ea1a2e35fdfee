xmalloc() で確保したメモリを xfree() で解放するようにしたり、逆に malloc() で確
保したメモリを free() で解放するようにしたり、鬼車や readline のためのメモリ領
域を malloc() で確保するようにしたりといった整理です。
readline.c の修正では rb_mem_error() という関数のようなものを呼んでいるのですが
これの定義がみつからないんですよね。 rb_memerror() の typo らしい。けどコンパイ
ルした readline の拡張ライブラリはロードできるんですよね。もしかして PIE でコン
パイルするようにしたので関数呼び出しが GOT テーブル経由になったことでリンクエラ
ーが遅延されるようにんなったんでしょうか。あと readline.c の rb_raise
(rb_eNoMemError, "%s") が引数が足りていないですね。

GC.compact 時に finalizer 用の登録テーブルに入ってるかどうかを考慮していたのを、かわりに GC の mark 時にこのテーブル内のオブジェクトを pin down するように変更しています。一部のタイプのオブジェクトはこれまでも移動不可になってましたが、finalizer 実行中にオブジェクトの参照を GC が関知しない linked list 内にコピーするので全て移動したらまずかったということみたいです。

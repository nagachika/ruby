parser 部分(AST を作るところまで)のキーワード引数対応実装。struct rb_args_info
にキーワード引数用のメンバ(kw_args, kw_rest_args)を追加して、parse.y のメソッド
引数やブロックパラメータ部分のルールをキーワード引数を追加した組み合わせを追加
。引数のルールは省略可能引数や rest 引数などの組み合わせをそれぞれルールとして
いるのでルールがどーんと増えています。それにしてもすごい組合せパターン数。Ruby
の仮引数の仕様は複雑です。これでもまだキーワード引数は通常の引数、省略可能引数
、rest 引数の後、ブロック引数(&つきのやつ)の前と順番が決まってるのでいいですが
、キーワード引数も順番関係なく書きたいとか言いだすとすごいことになりそう。

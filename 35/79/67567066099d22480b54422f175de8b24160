Transient Heap の変更に関連して(たぶん)マクロや関数の戻り値の型やキャストを変更
しています。

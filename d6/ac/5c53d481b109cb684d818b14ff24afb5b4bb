b452c03a14f943ae25338547bd680fce67399d85 で RUBY_ASSERT_MESG_WHEN() の引数が必ず 1回は評価されるようにしてたのを revert しています。 assert が無効な状態でも評価されるためベンチマークに影響があったそうです。 ASSERT 系マクロで副作用があることを期待した使いかたをしてるほうが間違いということで不要な評価は削っているようです。

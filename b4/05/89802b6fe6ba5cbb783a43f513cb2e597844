reline のリファクタリング。 if 文を case 文にしていますが、コミットコメントによると Regexp を毎回コンパイルしないためとのことで式展開を含む正規表現リテラルに o オプションを追加しているので、こっちがメインかも。

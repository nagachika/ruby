標準添付ライブラリ tmpdir でパスを生成するのに Kernel#rand ではなく専用の Dir::Tempname::RANDOM という Random のインスタンスを作っておいてそっちを使うようにしています。 Kernel#srand の影響を受けないようにするため。なるほど srand で同じ seed を指定すると同じパスが再現されてしまうようになってたのか。

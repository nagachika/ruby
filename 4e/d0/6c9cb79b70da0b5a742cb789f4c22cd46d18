r36492 の Thread 切り替えのテストはうまく動かない時はそのまま固まってしまうので
子プロセスを起動してそこで動かすことでタイムアウトできるようにしています。

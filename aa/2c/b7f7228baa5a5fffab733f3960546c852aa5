compile.c の compile_redo() でも同様に条件を整理して goto 文を廃止しています。 https://github.com/ruby/ruby/pull/3247

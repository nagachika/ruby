Random::DEFAULT 定数に格納される疑似乱数生成器がプロセス単位で初期化されてたのをやめて Random::DEFAULT には Random そのものを代入しておいて、Ractor 毎に乱数生成器が作成されるようにしています。このためインターフェースをあわせるため Random.seed というクラスメソッドも追加しています。クラスは共有してても実際に動く乱数生成器は Ractor 毎になるようにしています。 [ruby-core:100807] [Feature #17322]

Mutex の実装で RUBY_VM_CHECK_INTS_BLOCKING() で割り込みチェックするとその時点で
mutex->th が書き変わっている恐れがあるのを見落していいて deadlock する可能性が
あった不具合を修正しているようです。じーっと睨んでなんとなくわかった気がするけ
どちゃんとした再現シナリオはよくわかってない。たぶん r58604 で Mutex の実装に直
接 pthread_mutex_t などを使うのをやめて linked list を使った実装に変えた時の影
響なのではないかと思いますが、normal によれば 2.4 以前からあったんじゃないかっ
てことで backport が REQUIRED に設定されてます。うーん、そうなのかな? 少なくと
もこの差分そのまま backport は無理そうだと思うけど。 [ruby-core:87467] [Bug #
14841]

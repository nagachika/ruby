3deeb3fd914bc5604e84e7a41ec2b5193a560479 の obj_ary_extracapa カウンタのインクリメントのために capa を調べる時に ARY_SHARED_ROOT_P() をチェックして共有配列の root じゃない時(元となる Array のバッファを共有してて部分配列を参照している場合)はインクリメントしないようにしています。まあその場合はメモリ領域は無駄にはしてないですしね。

Enumerable#slice_when という新規メソッドを追加しています。これは隣りあった要素
を2つの引数としてブロックを呼び出して真を返したらそこで区切るというパターンの
slice です。テストケースからいくつか例をひっぱると
[1,4,9,10,11,12,15,16,19,20,21].slice_when {|i, j| i+1 != j }.to_a
  # => [[1], [4], [9,10,11,12], [15,16], [19,20,21]]
とすると連続している(1ずつ増えている)かたまりに分解しますし
[7, 5, 9, 2, 0, 7, 9, 4, 2, 0].slice_when {|i, j| i.even? != j.even? }.to_a
  # => [[7, 5, 9], [2, 0], [7, 9], [4, 2, 0]]
とすると奇数/偶数の種類ごとのかたまりに分解されるという具合です。
[ruby-core:62499] [Feature #9826]

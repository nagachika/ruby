Kernel#trap や Signal.trap はシグナルハンドラとしてブロックやProc オブジェクトを受け取るので、main Ractor 以外で呼ばれると起動時に Ractor 間での不正なオブジェクト参照になってしまうので、rb_proc_isolate() で外部スコープの変数の参照を消しておく(あったら trap 呼び出し時点で例外が発生する)ようにしています。

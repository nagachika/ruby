native_sleep() でその thread が main thread だったら pthread_cond_wait() による
待ちではなく ppoll(2) を使うようにしています。詳しくはコメントやコミットログに
シナリオがありますが、シグナル受信を各 thread が受け持つようになったために main
thread が sigmask をかけた状態で他の thread が終了してしまった状態でシグナル受
信するとちゃんとハンドラが実行されなくなってしまう可能性があったというのでこう
してるそうです。ううーむなるほど?

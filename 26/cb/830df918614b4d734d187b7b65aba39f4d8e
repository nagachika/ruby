OpenSSL はエラー時にエラーキューにエラー情報が詰められて、これを適切に取り出し
てあげないと次の(関係ない)ライブラリの関数の呼び出しがエラーになってしまったり
するので、ossl_raise() というエラー情報の取り出し(OSSL_BIO_reset)を含む例外発生
関数を利用するようにしたり、OSSL_BIO_reset() マクロにエラーリセット処理をまとめ
たりしています。またテストでもエラー情報が残っていないことの確認を追加していま
す。

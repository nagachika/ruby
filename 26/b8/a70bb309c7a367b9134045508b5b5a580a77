r64108 の再々修正。 thread_pthread.c の rb_sigwait_sleep() で ubf で割り込み処
理待ちの thread が存在していたら ppoll(2) にタイムアウトをつけて定期的リトライ
をするようにしています。これも割り込みしても thread がブロックから抜けないかも
しれない([Bug #5343] の議論をみると…自分でもすっかり忘れてるんだけど、シグナル
の喪失もあるのかも)というのに対応するためと思われます。 [ruby-core:88088] [Misc
#14937] [Bug #5343]

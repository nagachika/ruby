Marshal.dump で dump するオブジェクトをカスタマイズするために marshal_dump メソ
ッドでかわりのオブジェクトを返すというプロトコルがありますが、そこで receiver
と同じクラスのオブジェクトを返すとそいつもまた marshal_dump メソッドを呼んで…
と繰り返すことになってしまうので、そうならないように同じクラスのインスタンスで
ないかチェックを追加しています。 [ruby-core:78289] [Bug #12974]

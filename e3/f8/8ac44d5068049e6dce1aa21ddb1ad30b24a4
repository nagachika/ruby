r38968 で set_trace_func のテストのために定義した assert_security_error_safe4
というメソッドから $SAFE = 4 をセットするコードは呼び出し元に追い出して、ブロッ
クではなく Proc オブジェクトを引数に受け取るように簡便化しています。

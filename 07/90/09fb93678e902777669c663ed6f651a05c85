File.readlink の実装で readlink(2) のバッファが足りない時にバッファとして使って
いる文字列オブジェクトのサイズを伸長する処理が抜けていたので rb_str_set_len()
の呼び出しを追加しています。メモリ領域の確保は rb_str_modify_expand() で行なわ
れていたので1度は拡張できていたのですが String のサイズをセットしていなかったの
で、多分 200 bytes → 400 bytes の伸長のところで 300bytes しか確保されなくてメ
モリエラーを起す可能性があったと思います。 [ruby-core:58592] [Bug #9157]

GC の mark フェーズではオブジェクトの参照関係をたどって mark するために再帰呼び
出しをしますが、スタックの残りが少ない時にはスタックオーバフローを回避するため
にヒープに取った領域を利用した処理に切り替えます。この判定に使う GC が利用する
予定のスタックサイズを configure で実際に似た関数をコンパイルして検出するように
しています。すごいですね。今後 gc.c の gc_mark() と gc_mark_children() に自動変
数や引数を追加する時には configure.in のこの関数も修正するのを忘れないようにし
ないといけませんね。 [Bug #3781]

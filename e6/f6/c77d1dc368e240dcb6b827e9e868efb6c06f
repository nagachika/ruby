条件が複雑なのですが、代入の左辺値がカンマで複数の値が書かれている(実際に複数書
かれていなくても a, = *ary みたいなのでも可)いわゆる多重代入で、さらにそこに
Hash のキーに配列を * で展開した記法(でも配列の要素は1つ)が書かれていると SEGV
する不具合を修正しています。 [ruby-core:72777] [Bug #11970]
つまりこういうので SEGV していました。
h = {}
k = [:key]
h[*k], = 0

marshal.c の w_long() で 1バイトずつ w_byte() で配列から書き出していたのを
w_nbyte() という関数でまとめて処理するようにしています。

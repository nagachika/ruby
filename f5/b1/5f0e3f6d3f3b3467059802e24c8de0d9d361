finalizer の処理を rb_postponed_job_register_one() で遅延させて実行していたのが
マルチスレッドでの実行時に処理が実行されなくなることがあったらしく、T_ZOMBIE の
状態のオブジェクトが残ってしまってメモリ使用量が爆発するという現象が発生してい
たのを修正しています。またマルチスレッドでこの配列のカウンタを ATOMIC_CAS() で
操作していたのですが、競合がおきた時のリトライがされていなかった? などの不具合
を修正しているようです。おそらくこれで @tagomoris さんが調査して下さってた 2.1
でのメモリ使用量が突如増加する問題にも何らかの進展があるのではないでしょうか。

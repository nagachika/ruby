標準添付ライブラリ reline の Reline::LineEditor で複数行のペーストで大量の行をペーストした時に不要な部分の処理をスキップするようにしています。

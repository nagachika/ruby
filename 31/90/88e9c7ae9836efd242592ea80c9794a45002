テストがないのでどういう問題を修正したのかよくわかりませんが、ささだ先生に教わ
ったところ include の順番によって Module が ancestors の中に複数回現れることが
あって(C1 -> M -> C2 -> M -> Object のような感じ)、その場合に super を使うと 2
つ目の M の(正確には M の IClass の)メソッド内での super が 1つ目の M の位置し
か取れなくて再度 M -> C2 -> M と辿って無限ループしてしまうという問題に対処する
ため、VM のスタックフレームにメソッドの定義クラスを積んで super で正確に
ancestors に現れる順にメソッドを遡れるようにしています。たぶんこれチケットにな
ってたと思うのですが見付けられず。
[追記] znz さんに教えてもらいました。 [ruby-core:30450] [Bug #3351] [/追記]

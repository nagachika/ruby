r59854 の fiddle の変更で frozen_string_literal: true の magic comment にしたこ
とで fstring になった文字列のバッファを Fiddle::Function を使って直に strcpy で
書き換えるということをしてしまっていたのでエラーになってしまっていたので、
+"000" のように String#+@ を使って dup した文字列オブジェクトを利用するように修
正しています。これデバッグの様子をみてたら、現象をみた時に「すわ fstring の不具
合か GC か」と騒然としたけど実は C 関数で内容書き換えてましたっていうので結構お
もしろかったです。

Google からのパッチです。 [ruby-core:45073]
NaCl (Native Client) への移植、の前段階として configure の
--with-static-linked-ext オプションの挙動を復活させています。Ruby の拡張ライブ
ラリをコンパイル時に静的にリンクしてしまうことができてたのですが、最近この機能
がうまく動いていなかったのを修正したもののようです。 1.9 では各エンコーディング
の実装も共有ライブラリとしてロードされるので、これも静的リンクできるように
encinit.c というソースコードを ERB で生成してリンクするようにしています。これに
対応して静的リンクしない時も Init_enc() を呼ぶのでダミーの関数が dmyext.c に用
意されています。

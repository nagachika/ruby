r45542 で復活させた mark_current_machine_context() の SET_STACK_END にこの位置
からマークが必要な理由をコメントで追記しています。この関数のスタックフレームに
は rb_setjmp() を利用して退避したレジスタの内容が置かれているため、これをマーク
するために必要なんだそうです。
[追記]コメントにある callee save registers は関数の呼び出し規約についての話だっ
たようで、呼び出された関数側で利用前に保存しておかないといけない(上書きされるの
で)レジスタのことで、関数の呼び出し元でそのレジスタに VALUE が入っていたらそれ
をマシンスタックに退避したものも mark させないといけないため、という話で、
rb_setjmp() で退避したレジスタはあまり関係なかったそうです。 akr さんに教えてい
ただきました。こちらの記事も参考にしてください。参考URL: http://www.a-k-r.org/d
/2014-04.html#a2014_04_09_1 [/追記]

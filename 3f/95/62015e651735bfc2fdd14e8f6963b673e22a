String のバッファ共有をする時に既に shared になっている String から共有する時は、その共有元のほうと共有するようにしています。孫共有してしまうとこっそり文字列バッファが壊れてしまうことがあったようです。 [ruby-core:92412] [Bug #15792]

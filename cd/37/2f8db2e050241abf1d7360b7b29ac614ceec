標準添付ライブラリ resolv の Resolv::Hosts の定義内で /etc/hosts に相当するファイルを Windows 環境で取得するためのコードで Windows 以外では LoadError をわざと発生させてスキップするようにしてたのを避けるようにリファクタリングしています。 $DEBUG=true だと例外発生が標準エラー出力に報告されるので、それを嫌って正常なパスで例外を使わないようにしたのだと思います。

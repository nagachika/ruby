r31760 で SIGPIPE を SIG_IGN に設定するようにしましたが、昔(2001年!) exec で別
のコマンドを呼び出した時に SIG_IGN がそのまま引き継がれるために Kernel#system
などで子プロセスが終了しない不具合があったために SIG_IGN から空のシグナルハンド
ラに変更されていたようです。exec の直前に SIGPIPE のハンドラを SIG_DFL にリセッ
トするように修正しています。 [ruby-dev:12261]

MJIT で生成した C ソースコードを 1ファイルにまとめてコンパイルする手法が Windows では(たぶん) precompiled header まわりの処理でうまく動かないため preprocessor 分岐で無効にしているのを _WIN32 を直接チェックしてたのを USE_HEADER_TRANSFORMATION というマクロの定義してこれで判定するようにしています。また不要になる関数の定義も同じ条件で必要な時だけ定義するようにしています。

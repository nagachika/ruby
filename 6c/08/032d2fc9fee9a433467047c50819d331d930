addr2line.c で rb_bug() などで表示する C level backtrace の関数名や行番号の取得
機能を強化して、これまで取れなかったケースでも表示できるようにしています。デバ
ッグ情報を読んだり、dladdr(3) を利用するようにしたりしています。また関数名が
main のフレームに到達したら処理を止めるようにしています。 FreeBSD では dladdr
(3) で main をその下の _start として認識してしまうことがあるそうで、シンボルテ
ーブルをみて正しい名前を検出してから main で止めるようにしているそうです。

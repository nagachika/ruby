test/ruby/test_marshal.rb で pipe を開きっぱなしにしていたテストケースがあった
のでちゃんと閉じるように IO.pipe のブロックつき呼び出しを使うようにしています。

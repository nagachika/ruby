配列の比較(== やeql?)で要素同士の比較を eql? を呼ぶ前にVALUE としての比較をして
同値だったら eql の呼び出しをしないようにして高速化しています。 eql? を呼ぶと
ruby の実行に移るので配列が操作されてサイズやポインタが変化する可能性があるので
、再度取得しなおしているので若干長くなります。 [ruby-dev:45412] [Feature #6177]
時折高速化や不具合修正のパッチを投稿していた Glass_saga さんの初コミットです。

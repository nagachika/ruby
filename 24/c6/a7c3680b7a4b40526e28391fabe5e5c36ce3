拡張ライブラリ psych が YAML の数値から始まる文字列や "." だけからなる文字列を
パースしようとすると誤って Integer/Float として処理しようとして例外が発生してい
た不具合を修正しています。正規表現でチェックする時に不正なものもマッチしてしま
っていたのでその修正と、"." だけの時の処理を別途追加しています。これを読んでて
気がついたのですが、Psych.load は数値を "," や "_" で桁を区切ったものを受け付け
るんですね。
[追記] Psych は 1.1 ということなので 1.1 の仕様書を見てみましたが、こっちはよく
からなかったです。 http://yaml.org/spec/1.1/current.html#id903915 ) [/追記]
YAML の Spec をみてもそれらしい記述はないので Psych の拡張のようです。 (参考URL
: http://yaml.org/spec/1.2/spec.html#id2803828 ) [ruby-core:44426] [Bug #6312]

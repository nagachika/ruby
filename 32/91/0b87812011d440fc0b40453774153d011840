io/wait のテストで各種デバイスファイルのチェックをしてるところで /dev/random の
チェックでは IO#wait_readable が書き込み可能と返さなくても例外が発生しなければ
よし、と判定するように緩めています。エントロピー枯渇時でもテストできるように、
ということでしょう。

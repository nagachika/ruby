rescue 節からの raise や throw などの大域脱出で TracePoint の b_return というブ
ロックから抜ける時のイベントが発生してしまっていた不具合を修正しています。テス
トをみて気がついたのですが、メソッドから return で抜けるのも大域脱出なんですね
。そう考えると特に rescue 節での return はありがちなパターンな気がします(もちろ
ん再 raise もですが)。 VM Frame の種類に rescue 用のものを追加してブロック用の
フレーム種類を使いまわしていたのをやめています。 [ruby-dev:48295] [Bug #9957]

File.dirname のテストでなぜかファイル名との前方一致でチェックしていたところをデ
ィレクトリ名が正しいかどうかちゃんと確認するようにしています。

gc.c の gc_marks() から昨日の r37075 で導入したヒープ上に置いたスタックを利用し
た(再帰しない)マーク処理のループを gc_mark_stacked_objects() という関数に切り出
して、 rb_objspace_call_finalizer() でファイナライザ実行前に finalizer_table か
らの参照を mark するようにしています。コメントから察するに、ファイナライザ(が設
定されているオブジェクト?)から参照されているオブジェクトがファイナライザを実行
する前に sweep されてしまうと((ファイナライザが実行されるということはそのオブジ
ェクトは参照がなくなって sweep されようとしているわけなので、そのオブジェクトが
参照しているオブジェクトも sweep 対象になっている可能性があります) SEGV が発生
する恐れがあるので、ここで mark しておこうということではないかと思われます。

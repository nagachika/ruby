date_core.c の offset のチェックで Float を渡した時の範囲チェックの間違いと
Rational を渡した時に整数値(分母が 1)の時しかちゃんとチェックされていなかった
(常に0を返してた)のを修正しています。

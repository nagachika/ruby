Enumerable#first の引数ありの時の処理は take と同じだったので処理を使い回すよう
にリファクタリングしています。

compile_branch_condition() で条件分岐の条件部にブロック引数として受け取ったロー
カル変数があった場合に、defined?(yield) 相当の命令にすりかえるようにしています
。2.5 から m(&b) のようなブロック引数を参照せずにそのまま別のメソッドにブロック
引数として渡す時には Proc オブジェクト化をしないようにしていますが、m(&b) if b
みたいにしてると b の参照されたところで Proc 化されてしまうからそれも抑制できる
ように、ってことですかね。でも b が nil ならそれはそれで &b でそのまま渡せるん
じゃありませんでしたっけ。別のメソッドにただ渡すだけの使い方でブロック引数で分
岐することそんなにあるかなぁ。

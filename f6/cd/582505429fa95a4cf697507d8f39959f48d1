r50678 のインスタンス変数の実装の変更で Marshal.dump/load の速度に影響していた
のを改善しているそうです。なんで速くなるのかよくわかりませんが…。
が、なんかついでに rb_attr_delete() っていう C-API が追加されてて、これはなんだ
ろうかと思ったら、time.c の time_mload() で load 対象の文字列オブジェクトからイ
ンスタンス変数を取得するたびにそれを消すということを(なぜか)していて、その処理
を一般化したみたいです。なんだろこれ…。 [ruby-core:69323] [Feature #11170]

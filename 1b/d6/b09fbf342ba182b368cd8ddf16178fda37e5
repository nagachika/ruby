dlsym(3) で得た関数ポインタを void * のポインタと比較するのも GCC 拡張とのこと
で、古い ruby バージョン向けの拡張ライブラリがロードされたのを ruby_xmalloc の
シンボルの重複で検出するロジックのところを xmalloc_mismatch_p() という関数に切
り出しています。しかし代替の方法もないので __clang__ や __GNUC__ の時は #pragma
を使って警告を抑制するのみに留めています。

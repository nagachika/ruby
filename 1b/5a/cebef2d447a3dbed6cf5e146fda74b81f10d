st_table のリサイズ時に指定のサイズよりも大きい最小の2の累乗を計算する処理をビ
ットシフトとビットORを使った next_pow2() という実装に変更しています。なるほどー
最上位ビットより下の全ビットを1にしてから+1することで最上位ビットのひとつ上のビ
ットだけ立った整数を作ってるんですね。Hacker's Delight にありそうなイディオムで
す。このほうが速いというより、コードサイズが少し小さくなるので icache が効率的
に使われていいのではないか、とのこと。いつもながら細かいチューニングポイントを
みつけてきますね。

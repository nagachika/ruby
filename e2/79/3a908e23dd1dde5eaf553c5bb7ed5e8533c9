Ruby の C API に後で finalizer の実行をするタイミングで実行するために関数ポイン
タを登録しておく rb_postponed_job_register() および
rb_postponed_job_register_one() という関数を追加しています。 GC 中や blocking
region (GVL 解放中)で Ruby のメソッドの利用を含む処理を使えないので後で実行する
ジョブを登録しておく、というような用途で使えるのではないかと思います。直接の用
途としては [ruby-core:53478] [Feature #8107] のオブジェクトを確保した位置を保存
する機能の追加のために導入したみたいなので、その2つの用途のどちらでもなさそうで
すが……。

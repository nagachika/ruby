singleton_method_added というフックメソッドで例外を発生させるとメソッドテーブル
に NULL が入った T_CLASS (クラスやモジュールの内部的な表現の型)のオブジェクトが
できてしまって、それを解放する時に SEGV してしまっていたので、解放する時に NULL
チェックをするようにしています。 [ruby-dev:44436] [Bug #5254]

ruby.c の process_options() で RARRAY_ASET() の引数に関数呼び出しなどを渡してい
たため、マクロ展開時に RARRAY_PTR_USE_START() から RARRAY_PTR_USE_END() の間に
処理が沢山入ってしまうので、あらかじめ引数に渡す値を変数に入れておくようにして
います。現状の RARRAY_PTR_USE() の処理をみて、特にここで処理が多いと困る点は見
受けられませんでしたが、一般的にマクロの引数は複数回評価されたりする可能性を考
慮して関数呼び出しなどの式は避けるほうがいいのでそういうことかもしれません。

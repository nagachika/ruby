getsockname(2) や getpeername(2), accept(2) などが返す第3引数 len に格納したサ
イズが元々用意していた buf の構造体のサイズを越えていた時に、元のサイズを越えな
いように丸めてから Addrinfo の作成関数に渡すように修正しています。これらのシス
テムコールが渡した len を越える値を返すことってあるんですね。そういえば len が
小さすぎるというエラーが man に記述されてなくって、どうなるんだろと思ったことが
あったような気がします。

拡張ライブラリ date での jisx0301 と iso8601 のフォーマットでフォーマット文字列
の組み立てを snprintf(3) を使って簡潔に書くように修正しています。多分元は long
に収まらない範囲の UNIX TIME を考慮してたので専用の演算用関数を使ってたのだと思
いますが、そういう場合は "%Y-%m-%d" 固定でいいので Fixnum に収まってなかったら
分岐して即返すようにしています。

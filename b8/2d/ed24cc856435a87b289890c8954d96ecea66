at_exit で登録された処理の中で例外が発生した時に、エラーの内容を表示するところ
で更に例外が発生すると、後続の at_exit のブロック内で $! (例外オブジェクト)が
nil になって、終了ステータスも 0 (正常終了)になっていたのを修正しています。
[ruby-core:55365] [Bug #8501]
r41204 はこの変更の前準備だったみたいですね。

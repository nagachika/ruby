IO.copy_stream でどちらかのオブジェクトが T_FILE 型でなくて fd を持ってない
(StringIO など IO を偽装している)場合に read/write メソッドを使う fallback 実装
でエラー時にバッファサイズを切り詰める処理が飛ばされていたので常にリセットする
ようにしています。

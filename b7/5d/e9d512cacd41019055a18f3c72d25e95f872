r52001 の Thread.handle_interrupt のテストでメインスレッドが assert_raise のブ
ロックに入ってから Thread#raise で例外発生させるようにタイミングを調整するよう
にしています。うーん、この元の r=:ok は Thread.current.raise はすぐに例外が発生
せずにこの代入が実行される(:on_blocking により sleep まで割り込みが遅延される)
というのをチェックしていたんじゃないかと思うので、単に削ったらテストの意図が変
わってしまうんじゃないでしょうか?

vm_eval.c の method_missing() でも ALLOCV_N() を使うようにしています。が、ここ
はサイズによって ALLOCA_N() か rb_ary_tmp_new() による確保(ALLOCV_N() とほぼ同
様の方法)で分岐していて、頻繁に使われる可能性があるので多分小さいバッファの時は
オブジェクトを確保しなくていいように軽い ALLOCA_N() を使うようにしていたんじゃ
ないかという気がします。 method_missing を多用しているケースのベンチマークへの
影響はどうでしょうか。
[追記]コメントを頂いたように ALLOCV_N() は alloca() が利用できる環境では確保す
るサイズをみて自動的に allca() と rb_alloc_tmp_buffer() を切り替えているので同
様に(64bit 環境ではしきい値に違いがあるかもしれませんが)通常は alloca() を使う
ようになっていました。[/追記]

r11175 (10年以上昔ですね)で String#unpack の指示子 b, B, h, H などで文字列を返
す時に未初期化の String オブジェクトを返す可能性があった不具合を修正しています
。知らなかったのですが String#unpack ってブロックを受け取って、値を unpack する
毎に yield するんですね。そのための UNPACK_PUSH() というマクロの実行が文字列オ
ブジェクトを作った時点で呼ばれていて、結果を書き込む前だったのを修正しています
。ってことは、この追加されているテストって ret << v のところは ret << v とかし
ないと後から書き変わるので修正前も通ってしまうんじゃないでしょうか?
[ruby-core:78841] [Bug #13075]

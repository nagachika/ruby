IO#read(len, str) で第2引数にバッファ用の String オブジェクトを渡した時に実際に
読み込みできるようになるまで str を切り詰めないようにしています。
[ruby-core:55951] [Bug #8625]
まあでも、普通の使いかただと IO#read に渡した文字列がいつ変化するかわからない
(いつデータがくるかわからない)ので、具体的にどのタイミングで切り詰められるかに
依存したようなことはしないほうがいいと思いますけどね。

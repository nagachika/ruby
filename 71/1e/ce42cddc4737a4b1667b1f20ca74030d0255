標準添付ライブラリ net/http で SNI (Server Name Indication) を使ってホスト名を
元に利用する証明書を決める仕組み(多分)を使うと、Net::HTTP の接続を使いまわした
時にしばらくたってから再度リクエストを投げた時に証明書エラーになるという不具合
があるらしく、これを回避するため SSL Session がタイムアウトしていたら使いまわさ
ないようにしています。不具合自体は OpenSSL の不具合なんじゃないかということです
が、この変更で対策できるそうです。 [ruby-core:66388] [Bug #10533]

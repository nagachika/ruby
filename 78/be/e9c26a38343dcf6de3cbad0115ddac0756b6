UTF-16, UTF-32 というダミーエンコーディングを追加して、UTF-16 から UTF-8 への変
換を追加しています。
UTF-16, UTF-32 にはバイトオーダーの指定によりバイト列への符号化の順番が違い、文
字列の先頭に BOM というヘッダみたいなものをつけてそれを指定しますが、Ruby では
BOM はなしにしてエンコーディングで UTF-16LE, UTF-16BE のようにバイトオーダーも
含めて指定するようにしていますが、その指定なしのエンコーディングを新設していま
す。変換すると BOM つきの文字列になるようです。どっちのバイトオーダーになるのか
は CPU アーキテクチャによるのかなと思ったらXeonサーバ上でビックエンディアンにな
ったので違うみたいです。

r32815 でメインスレッドの代替スタック領域を確保しなおしているところで xmalloc()
を使ってしまっていたので他と同様に malloc を使うようにしています。また元々
th_init() で確保済みの領域を free する前に新しい領域を malloc() で確保するよう
にしています。些細なことですがこの順番の違いで確保されるアドレスが変化して現象
が変わるのかもしれないですね。 [ruby-dev:44315] [Bug #5139]

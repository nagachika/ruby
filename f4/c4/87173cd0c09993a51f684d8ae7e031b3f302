Kernel#loop メソッドは最後のブロックの評価した値を戻り値として返すようにしてい
ます。あれ、そうなってませんでしたっけ? と思ったけど loop { } から抜けるには
break するので、これが break に渡した値を返すのは loop に限らない話で、loop は
ブロック内で StopIteration 例外が発生することでも止めることができて、この時には
元になった Enumerator の最後のブロックの評価値(StopIteration.new の引数で指定さ
れたオブジェクト)が返されるようになったようです。ううむ loop のこういう使いかた
は知らなかった。 [ruby-core:71133] [Feature #11498]

r49695 とも関連してそうなのですが、string.c の get_pat_quoted() (String#split
に文字列を渡した時に引数がこの関数で処理される)でエンコーディングに対して不正な
文字列の時に TypeError を raise していたのを RegexpError を発生させるように変更
しています。 r49695 で引数 check に 0 を渡して例外発生は呼び元で行うようにした
のでここで TypeError を偽装(?)する必要がなくなったということですかね。[追記]も
ともとここの rb_raise() は通ってなかったとのこと[/追記]

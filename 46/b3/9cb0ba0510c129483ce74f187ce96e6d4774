r31760 および r31761 で SIGPIPE のシグナルハンドラの扱いについて普段 SIG_IGN に
して exec 前に SIG_DFL に戻すようにしていたのを、r32178 でやっぱり空のシグナル
ハンドラ(process.c の sig_do_nothing()) を設定するように再変更していましたが、
やっぱり常に空のシグナルハンドラを設定しておくようにしています。ついでに r51389
で signal.c に追加した sig_do_nothing() と定義を共有するようにしています。
コミットログにあった https://gist.github.com/sorah/831169 との関連はよくわかり
ませんが…。昔は sigpipe() が空じゃなかったんですかね。

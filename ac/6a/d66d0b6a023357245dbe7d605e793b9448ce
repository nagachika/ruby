ObjectSpace._id2ref で sweep される予定のオブジェクトの判定方法を修正。sweep 予
定の slot に含まれていてかつマークされていないものは解放される予定なので例外発
生させるようにしています。
BUILTIN_TYPE(ptr) == 0 の判定も is_dead_object() の中に入れてしまってもいいよう
な。klass == 0 はまたちょっと意味合いが異なる(内部的に利用するオブジェクトで
ruby スクリプトへ見せないようにしたい時に klass を 0 にする)ので dead かどうか
の判定とは別ですが flag == 0 は freelist に繋がれた時にクリアされてるので
is_dead_object() の一部かなと。

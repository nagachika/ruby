File.fnmatch で第1引数のパターンのほうに NUL 文字を含めてもエラーにならないので、不正なパターンでマッチができてしまう不具合を修正。 StringValueCStr() を使って pattern に NUL 文字があったら ArgumentError になるようにしています。

標準添付ライブラリ tracer でブロック引数として定義していたものを add_filter(p = nil, &b) のように通常引数+ブロック引数として定義して両方受け付けるようにしています。 e6f8382a766a4e27e008d8cf753c6589a3eb6f85 の変更前は add_filter(p=proc) のようにしていて省略時には自動的に渡されたブロックを capture するテクニックが使われていたのが、proc がブロックを自動的に受け取る機能が警告の対象になったので add_filter(&p) に変更されてて、互換性が壊れていたので一応両方受け取れるように非互換性を緩和しているようです。

gc.c の heap_add_freepage() から不要な引数 objspace を削除し、heap->freelist に追加する時に常にこの関数を利用するようにして、この中で追加しようとしている page に空き slot がない場合を弾くための GC_ASSERT() を追加しています。ちょっと前にも関連する修正をしていた気がしますが(おそらく GC.compact の影響で) freelist に追加しようとしているのに実際には空きがない page が入ってしまうのを検出するためのようです。まだ CI で起きてるみたいですね。

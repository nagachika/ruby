r46437 のさらに追加修正。(r46410 からの続き) チェックに使う文字列サイズ+1 (終端
文字分)が capa なので size+1 と比較するように修正しています。 [ruby-core:63114]
[Bug #9934]

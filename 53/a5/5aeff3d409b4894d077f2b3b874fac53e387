RUBY_ON_BUG という環境変数にコマンドラインを指定しておくと、rb_bug() で異常終了する際にこのコマンドに自分自身の pid を渡してコマンド実行するようにしています。デバッガを指定することで異常終了する時の状態を保存してデバッガに処理を引き継ぐようにできるようにしています。便利そう。 https://github.com/ruby/ruby/pull/2331 [ruby-core:94216] [Feature #16090]

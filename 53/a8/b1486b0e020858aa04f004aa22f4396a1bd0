rb_bug() による異常終了のテストでわざと SIGSEGV を送信するテストを環境変数 RUBY_ON_BUG が設定されている時には skip するようにしています。 gdb で止まってしまうので。

String#initialize の実装で struct RVALUE の中に埋め込みで文字列を持ってるものをヒープのバッファに移動するケースでバッファの内容のコピーがされていなかった不具合を修正しています。どういう時にこういうケースがあるんだろ……と思ったのですが小さい文字列の String#initialize を無理矢理呼んで capacity キーワード引数で capa を大きめに指定した時のようです。あんまりなさそう。 [ruby-core:93228] [Bug #15937]

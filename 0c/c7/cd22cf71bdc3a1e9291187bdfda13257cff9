r44761 の続きでメソッドの種別を何度も利用しているので変数に保持するようにしてい
る、のですが r44761 で修正したところの比較が抜けてしまっているような。

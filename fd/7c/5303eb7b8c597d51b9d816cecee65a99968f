test_method.rb のテストケースに、Class と Module 間で UnboundMethod を使って
define_method でメソッドを定義できないことのテストを追加しています。
[Feature #4254] の議論を受けてのことだと思いますが、まだ議論は続いているような
のでとりあえず Class と Module の間の移動はなしというのを明確にしたというところ
だと思います。ちなみに Matz は Class 間の移動は組み込み型の C で定義されたメソ
ッドは構造体の型に依存しているので移動できないけど Module のメソッドなら OK か
も、という意見を表明しています。そういうのは自己責任だという意見もありますが、
この場合はやっちゃうと SEGV などが起きる可能性があるから容認できないような。
ちなみに現在は継承関係にない Class 間のメソッドの移動は例外になっています。継承
してるんだから途中のクラスやモジュールで遮蔽されてない限り移動する必要もないの
で、実質 define_method に UnboundMethod を渡すのはあまり使い途がないのが現状で
はないかと思います。

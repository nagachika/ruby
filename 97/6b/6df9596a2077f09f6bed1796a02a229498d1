iseq_peephole_optimize() で jump 命令の先が leave だった時に直接 leave するよう
にする最適化で、VM スタックの値を pop する命令を追加していましたが(jump 命令の
ための値かと思ったけど無条件ジャンプなのでスタックに値はないのでした)、不要だっ
たので削っています。 stack underflow が起きることがあったみたいです。

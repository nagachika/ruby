File.basename で第2引数の拡張子の文字列が指定されていて、そのエンコーディングが
第1引数と互換性がない時には一致しないので第2引数をなかったことにして処理するよ
うにしています。つまり ASCII 文字じゃないような拡張子の場合はエンコーディングは
そろえて渡しましょうということですね。

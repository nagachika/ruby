Shellwords#shellescape でシェルのメタキャラクタを置換するための正規表現に n フ
ラグがついていてエンコーディングが US-ASCII に明示的に指定されているのをやめて
います。UTF-8 などのマルチバイト文字(非ASCII文字)を含む文字列を渡すと警告が出る
のでこれを抑制するようにしています。 [ruby-dev:44878] [Bug #5637]

オブジェクトを表現する構造体を格納する struct RVALUE の共用体に VALUE 型のメン
バを3つ持つ構造体 values というエントリを追加して、newobj() というオブジェクト
を確保する関数を newobj_of() と改名して、フィールドに値を追加する処理もここで引
数として受け取ってセットするように汎用的に処理するようにしています。つまり実際
には struct RData なのだけどそのメンバに個別にセットするのではなくて newobj_of
() に構造体メンバの順番と同じように引数として渡して共用体の values 経由で n 番
目の VALUE 型メンバにセットするということをしています。なぜでしょうね。多分ここ
にも後で何かフックを追加したいとかそういうことではないかと思われます。

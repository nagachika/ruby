IO#puts で引数と最後に追加される改行を writev(2) システムコールが使える環境では
writev() を使って一度に書き込むようにしています。 [ruby-core:83508] [Feature #
14042]
おおーこれで行と改行記号が生き別れになって行が連結するのが起きにくくなるのかな?

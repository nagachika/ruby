'!_=%w~' のように、条件式の中の代入文の右辺に %w の閉じトークンがないものが書か
れると SEGV する不具合を修正 [ruby-dev:43067] [Bug #4290]
さすが超絶技巧プログラマですね。こんな構文の不具合なかなか踏みそうにないです。
ところで、右辺が "" のような文字列の時と %w[] のような[DEL:文字列:DEL] 配列の時
で警告の有無が違うのはただの警告漏れでしょうか。
% ruby -ve '!_=""'
ruby 1.9.3dev (2011-01-19 trunk 30599) [i686-linux]
-e:1: warning: found = in conditional, should be ==
% ruby -ve '!_=%w[]'
ruby 1.9.3dev (2011-01-19 trunk 30599) [i686-linux]

Array#uniq! の実装で Hash に変換してから配列に詰め直しているところを for ループ
で書いていたのを st_foreach() を使うように書きかえています。 for ループを
st_foreach() に変更したというより、これまで元の配列の要素でループしてそれが
Hash に残っているかを判定して残ってたら格納するというように uniq! で短くなって
も元の配列サイズぶんループしてて無駄だったのを削っているということみたいです。
同じ回数なら st_foreach() で関数呼び出しのオーバヘッドがかかるぶん for ループの
ほうが有利そうですしね。

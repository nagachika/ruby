parse.y で識別子っぽいものを処理する parse_ident() で定数か識別子(ローカル変数)
かの判定を先頭が大文字かどうかでしていたのを、遅延して is_local_id() の結果をみ
て判定するようにしています。これって判定結果が変わることがあるのかなぁ。
[追記]rb_enc_symname_type() で同様のセットをしているので、結果は変わらなくてリ
ファクタリングの一種のようです。[/追記]
